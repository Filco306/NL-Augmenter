def check_support(src_lang_code, tgt_lang_code, use_larger_model_if_available):
    """
    Ensure that we support the combination of two languages.
    """
    scandinavia_compatible = (
        src_lang_code in GROUP_MEMBERS["SCANDINAVIA"]
        and tgt_lang_code in GROUP_MEMBERS["SCANDINAVIA"]
    ) and use_larger_model_if_available
    north_eu_compatible = (
        src_lang_code in GROUP_MEMBERS["NORTH_EU"]
        and tgt_lang_code in GROUP_MEMBERS["NORTH_EU"]
    ) and use_larger_model_if_available
    romance_compatible = (
        (src_lang_code in GROUP_MEMBERS["ROMANCE"] and tgt_lang_code == "en")
        or (
            tgt_lang_code in GROUP_MEMBERS["ROMANCE"] and src_lang_code == "en"
        )
    ) and use_larger_model_if_available
    if (
        tuple(sorted([src_lang_code, tgt_lang_code]))
        not in SUPPORTED_LANGUAGE_PAIRS
        and not scandinavia_compatible
        and not north_eu_compatible
        and not romance_compatible
    ):
        # Else, the language is not supported.
        s1 = f"Language pair {src_lang_code}-{tgt_lang_code} is not supported."
        if use_larger_model_if_available is False:
            s2 = "Setting use_larger_model_if_available to True might mitigate this problem. "
        else:
            s2 = f"For {src_lang_code}, the following pairs are supported: {', '.join([str(x) for x in SUPPORTED_LANGUAGE_PAIRS if src_lang_code in x])}"
        raise NotImplementedError(s1 + "\n" + s2)
    if scandinavia_compatible and use_larger_model_if_available:
        src = f">>{src_lang_code}<< "
        tgt = f">>{tgt_lang_code}<< "
        src_lang_code = "SCANDINAVIA"
        tgt_lang_code = "SCANDINAVIA"

    elif north_eu_compatible and use_larger_model_if_available:
        src = f">>{src_lang_code}<< "
        tgt = f">>{tgt_lang_code}<< "
        src_lang_code = "NORTH_EU"
        tgt_lang_code = "NORTH_EU"
    elif src_lang_code in GROUP_MEMBERS["ROMANCE"] and tgt_lang_code == "en":
        src = f">>{src_lang_code}<< "
        tgt = None
        src_lang_code = "ROMANCE"
        tgt_lang_code = "en"
    elif (
        tgt_lang_code in GROUP_MEMBERS["ROMANCE"] and src_lang_code == "en"
    ) and use_larger_model_if_available:
        src = None
        tgt = f">>{tgt_lang_code}<< "
        src_lang_code = "en"
        tgt_lang_code = "ROMANCE"
    else:
        src = None
        tgt = None
        src_lang_code = src_lang_code
        tgt_lang_code = tgt_lang_code
    return src, tgt, src_lang_code, tgt_lang_code


SUPPORTED_LANGUAGE_PAIRS = [
    ("es", "et"),
    ("lt", "pl"),
    ("csg", "es"),
    ("ar", "es"),
    ("crs", "fr"),
    ("ee", "sv"),
    ("de", "he"),
    ("fr", "tw"),
    ("es", "mt"),
    ("fi", "iso"),
    ("ee", "fi"),
    ("pis", "sv"),
    ("bg", "ru"),
    ("de", "eu"),
    ("en", "nso"),
    ("fi", "he"),
    ("en", "tiv"),
    ("en", "ur"),
    ("cus", "en"),
    ("af", "nl"),
    ("ca", "uk"),
    ("aav", "en"),
    ("eo", "fi"),
    ("de", "ln"),
    ("en", "to"),
    ("it", "uk"),
    ("it", "vi"),
    ("en", "pag"),
    ("sv", "tll"),
    ("en", "tn"),
    ("cpf", "en"),
    ("bi", "fr"),
    ("ru", "sl"),
    ("iso", "sv"),
    ("eo", "pt"),
    ("en", "jap"),
    ("af", "fi"),
    ("en", "lun"),
    ("en", "hy"),
    ("en", "fi"),
    ("en", "lue"),
    ("es", "sn"),
    ("en", "ho"),
    ("fi", "nso"),
    ("fr", "yap"),
    ("en", "xh"),
    ("es", "hr"),
    ("fr", "swc"),
    ("en", "sn"),
    ("es", "fi"),
    ("fr", "tn"),
    ("fr", "guw"),
    ("fr", "ht"),
    ("fr", "zne"),
    ("fr", "sg"),
    ("es", "swc"),
    ("fi", "guw"),
    ("en", "sm"),
    ("fi", "ht"),
    ("fr", "ig"),
    ("de", "fr"),
    ("eo", "es"),
    ("hy", "ru"),
    ("es", "nso"),
    ("en", "ga"),
    ("da", "de"),
    ("fr", "pap"),
    ("kwy", "sv"),
    ("sv", "yo"),
    ("ase", "de"),
    ("bem", "fi"),
    ("ar", "ru"),
    ("chk", "en"),
    ("sl", "sv"),
    ("lv", "sv"),
    ("dra", "en"),
    ("en", "mt"),
    ("es", "rw"),
    ("de", "ee"),
    ("ro", "sv"),
    ("efi", "fi"),
    ("de", "ms"),
    ("fi", "mk"),
    ("sv", "tum"),
    ("es", "eu"),
    ("fr", "to"),
    ("de", "it"),
    ("fr", "tum"),
    ("sh", "uk"),
    ("fr", "niu"),
    ("en", "lg"),
    ("en", "ml"),
    ("ar", "tr"),
    ("en", "eo"),
    ("en", "kwy"),
    ("en", "run"),
    ("en", "nl"),
    ("en", "lu"),
    ("de", "hu"),
    ("bg", "fr"),
    ("fi", "sg"),
    ("fr", "loz"),
    ("eo", "sv"),
    ("fi", "pag"),
    ("cs", "fi"),
    ("en", "tll"),
    ("bzs", "es"),
    ("es", "yo"),
    ("fr", "rw"),
    ("bem", "fr"),
    ("efi", "sv"),
    ("ha", "sv"),
    ("fr", "pon"),
    ("eo", "he"),
    ("bcl", "fr"),
    ("fi", "no"),
    ("fr", "kwy"),
    ("en", "zlw"),
    ("es", "tvl"),
    ("crs", "fi"),
    ("ee", "fr"),
    ("sv", "tw"),
    ("es", "guw"),
    ("es", "ht"),
    ("en", "sv"),
    ("es", "lus"),
    ("fi", "war"),
    ("en", "kj"),
    ("bcl", "de"),
    ("en", "grk"),
    ("en", "umb"),
    ("es", "nl"),
    ("fr", "tvl"),
    ("cs", "sv"),
    ("ca", "it"),
    ("it", "ms"),
    ("ru", "sv"),
    ("nl", "sv"),
    ("sv", "xh"),
    ("bcl", "es"),
    ("en", "gaa"),
    ("en", "nic"),
    ("ca", "nl"),
    ("he", "ru"),
    ("cs", "uk"),
    ("sk", "sv"),
    ("sv", "tpi"),
    ("fr", "he"),
    ("hu", "sv"),
    ("de", "lt"),
    ("fi", "lu"),
    ("fi", "ts"),
    ("fi", "ilo"),
    ("fi", "ru"),
    ("es", "ilo"),
    ("fr", "tll"),
    ("ase", "fr"),
    ("en", "pqe"),
    ("et", "sv"),
    ("bi", "sv"),
    ("en", "ha"),
    ("en", "ny"),
    ("fi", "pon"),
    ("en", "kg"),
    ("kqn", "sv"),
    ("en", "pon"),
    ("ase", "sv"),
    ("de", "pag"),
    ("ber", "en"),
    ("en", "pap"),
    ("da", "es"),
    ("af", "en"),
    ("eo", "pl"),
    ("es", "niu"),
    ("az", "tr"),
    ("fr", "mt"),
    ("es", "sm"),
    ("pt", "tl"),
    ("afa", "en"),
    ("es", "tll"),
    ("lt", "tr"),
    ("en", "ng"),
    ("fi", "zne"),
    ("en", "itc"),
    ("fi", "st"),
    ("de", "fi"),
    ("fi", "yo"),
    ("fi", "mh"),
    ("gl", "pt"),
    ("el", "fr"),
    ("fi", "ha"),
    ("ceb", "fi"),
    ("fr", "ms"),
    ("sv", "yap"),
    ("en", "tl"),
    ("is", "sv"),
    ("es", "vi"),
    ("en", "zh"),
    ("en", "zle"),
    ("bzs", "fi"),
    ("fi", "lue"),
    ("fi", "tvl"),
    ("fi", "hu"),
    ("sv", "ts"),
    ("he", "sv"),
    ("fi", "gaa"),
    ("fr", "ts"),
    ("de", "guw"),
    ("cel", "en"),
    ("es", "ig"),
    ("es", "ve"),
    ("es", "tl"),
    ("bg", "it"),
    ("de", "ig"),
    ("en", "eu"),
    ("es", "st"),
    ("st", "sv"),
    ("sv", "to"),
    ("fi", "sl"),
    ("en", "loz"),
    ("en", "mos"),
    ("csn", "es"),
    ("ar", "el"),
    ("ar", "en"),
    ("az", "en"),
    ("en", "mr"),
    ("en", "lua"),
    ("es", "rn"),
    ("de", "ny"),
    ("bcl", "fi"),
    ("bzs", "fr"),
    ("fr", "ru"),
    ("bcl", "sv"),
    ("eo", "fr"),
    ("cs", "de"),
    ("es", "xh"),
    ("en", "iso"),
    ("fi", "hr"),
    ("fi", "nl"),
    ("fr", "hu"),
    ("en", "phi"),
    ("af", "eo"),
    ("en", "gv"),
    ("en", "sal"),
    ("fr", "gaa"),
    ("sv", "toi"),
    ("en", "fr"),
    ("fi", "toi"),
    ("crs", "sv"),
    ("fr", "xh"),
    ("es", "tw"),
    ("es", "pag"),
    ("de", "vi"),
    ("fi", "swc"),
    ("ar", "fr"),
    ("es", "to"),
    ("da", "eo"),
    ("es", "ru"),
    ("no", "pl"),
    ("fr", "rnd"),
    ("en", "id"),
    ("da", "no"),
    ("rw", "sv"),
    ("en", "mg"),
    ("fi", "niu"),
    ("ceb", "sv"),
    ("es", "pap"),
    ("ca", "de"),
    ("ilo", "sv"),
    ("de", "loz"),
    ("no", "ru"),
    ("es", "ny"),
    ("fi", "pap"),
    ("es", "pl"),
    ("eo", "ro"),
    ("fi", "ty"),
    ("chk", "sv"),
    ("fr", "ro"),
    ("es", "tzo"),
    ("es", "sg"),
    ("fi", "id"),
    ("id", "sv"),
    ("de", "no"),
    ("lt", "ru"),
    ("fi", "ro"),
    ("en", "euq"),
    ("en", "sem"),
    ("de", "eo"),
    ("es", "id"),
    ("en", "ru"),
    ("eo", "sh"),
    ("fr", "hr"),
    ("ase", "es"),
    ("ar", "de"),
    ("et", "fi"),
    ("fr", "pl"),
    ("sn", "sv"),
    ("sv", "zne"),
    ("fr", "lue"),
    ("sv", "swc"),
    ("da", "ru"),
    ("ca", "pt"),
    ("de", "tl"),
    ("en", "iir"),
    ("crs", "en"),
    ("el", "fi"),
    ("bnt", "en"),
    ("fr", "yo"),
    ("fr", "sv"),
    ("es", "gil"),
    ("ru", "uk"),
    ("fr", "lg"),
    ("ru", "vi"),
    ("en", "guw"),
    ("en", "ht"),
    ("alv", "en"),
    ("fr", "sk"),
    ("en", "om"),
    ("eo", "nl"),
    ("en", "gmq"),
    ("fr", "sm"),
    ("rnd", "sv"),
    ("en", "ss"),
    ("es", "uk"),
    ("fi", "sk"),
    ("el", "sv"),
    ("en", "rw"),
    ("sg", "sv"),
    ("pl", "uk"),
    ("en", "uk"),
    ("eo", "hu"),
    ("fi", "lua"),
    ("fi", "uk"),
    ("de", "ilo"),
    ("ar", "pl"),
    ("sv", "tn"),
    ("tr", "uk"),
    ("sv", "war"),
    ("ee", "es"),
    ("fi", "lv"),
    ("bat", "en"),
    ("et", "ru"),
    ("de", "et"),
    ("en", "gil"),
    ("niu", "sv"),
    ("sv", "wls"),
    ("en", "kwn"),
    ("fi", "gil"),
    ("af", "de"),
    ("af", "ru"),
    ("no", "uk"),
    ("de", "gaa"),
    ("fr", "wls"),
    ("lua", "sv"),
    ("en", "sk"),
    ("en", "gl"),
    ("hu", "uk"),
    ("es", "he"),
    ("es", "fr"),
    ("ee", "en"),
    ("fr", "iso"),
    ("en", "ig"),
    ("en", "hi"),
    ("fr", "nso"),
    ("crs", "de"),
    ("aed", "es"),
    ("fi", "hil"),
    ("sv", "ty"),
    ("en", "es"),
    ("sv", "uk"),
    ("en", "ti"),
    ("en", "is"),
    ("en", "mh"),
    ("ceb", "en"),
    ("de", "en"),
    ("el", "eo"),
    ("en", "mfe"),
    ("es", "ty"),
    ("fi", "lg"),
    ("lg", "sv"),
    ("pag", "sv"),
    ("es", "tn"),
    ("bzs", "en"),
    ("en", "fiu"),
    ("cs", "eo"),
    ("en", "kqn"),
    ("nso", "sv"),
    ("en", "ine"),
    ("bcl", "en"),
    ("bem", "sv"),
    ("efi", "fr"),
    ("en", "niu"),
    ("es", "lt"),
    ("es", "lua"),
    ("nl", "no"),
    ("fr", "uk"),
    ("en", "inc"),
    ("en", "pis"),
    ("kg", "sv"),
    ("fr", "sl"),
    ("fi", "mt"),
    ("en", "gem"),
    ("eu", "ru"),
    ("es", "war"),
    ("fi", "lus"),
    ("pon", "sv"),
    ("en", "hil"),
    ("bg", "de"),
    ("bg", "en"),
    ("es", "pon"),
    ("fi", "is"),
    ("hr", "sv"),
    ("en", "swc"),
    ("da", "en"),
    ("es", "ha"),
    ("eo", "ru"),
    ("en", "st"),
    ("fr", "gil"),
    ("es", "is"),
    ("pt", "uk"),
    ("eo", "it"),
    ("en", "ilo"),
    ("ar", "it"),
    ("bi", "es"),
    ("nl", "uk"),
    ("lus", "sv"),
    ("es", "loz"),
    ("bg", "es"),
    ("de", "efi"),
    ("en", "ln"),
    ("sl", "uk"),
    ("fr", "no"),
    ("sv", "tiv"),
    ("es", "mfs"),
    ("fr", "lua"),
    ("bg", "fi"),
    ("en", "vi"),
    ("ceb", "fr"),
    ("es", "ln"),
    ("fr", "lu"),
    ("de", "pl"),
    ("en", "zls"),
    ("en", "sq"),
    ("es", "gl"),
    ("es", "zai"),
    ("fj", "fr"),
    ("fi", "fse"),
    ("en", "rn"),
    ("crs", "es"),
    ("ceb", "es"),
    ("gaa", "sv"),
    ("guw", "sv"),
    ("ht", "sv"),
    ("cpp", "en"),
    ("es", "pis"),
    ("es", "it"),
    ("fr", "kqn"),
    ("fr", "kg"),
    ("ca", "es"),
    ("es", "kg"),
    ("en", "trk"),
    ("fr", "vi"),
    ("af", "fr"),
    ("en", "tvl"),
    ("ber", "fr"),
    ("af", "sv"),
    ("fr", "pis"),
    ("it", "lt"),
    ("en", "tpi"),
    ("en", "rnd"),
    ("es", "srn"),
    ("en", "mul"),
    ("en", "et"),
    ("bem", "en"),
    ("cs", "en"),
    ("bi", "en"),
    ("fi", "tw"),
    ("es", "gaa"),
    ("ca", "en"),
    ("de", "hil"),
    ("efi", "en"),
    ("fr", "ln"),
    ("cy", "en"),
    ("srn", "sv"),
    ("sq", "sv"),
    ("fr", "sn"),
    ("en", "sla"),
    ("bg", "eo"),
    ("en", "gmw"),
    ("es", "no"),
    ("en", "lus"),
    ("af", "es"),
    ("de", "nso"),
    ("he", "uk"),
    ("fi", "tll"),
    ("de", "uk"),
    ("es", "prl"),
    ("en", "sg"),
    ("fr", "ha"),
    ("ar", "he"),
    ("es", "mk"),
    ("de", "es"),
    ("lv", "ru"),
    ("es", "sl"),
    ("run", "sv"),
    ("lu", "sv"),
    ("en", "hu"),
    ("fr", "war"),
    ("bg", "uk"),
    ("en", "luo"),
    ("de", "is"),
    ("ig", "sv"),
    ("is", "it"),
    ("en", "urj"),
    ("en", "mkh"),
    ("fi", "pis"),
    ("bg", "sv"),
    ("en", "it"),
    ("en", "mk"),
    ("en", "nyk"),
    ("fr", "lus"),
    ("fr", "id"),
    ("de", "niu"),
    ("en", "ts"),
    ("en", "toi"),
    ("fi", "sv"),
    ("fr", "ty"),
    ("fr", "srn"),
    ("fr", "st"),
    ("de", "pap"),
    ("bzs", "sv"),
    ("fi", "ig"),
    ("en", "fj"),
    ("gil", "sv"),
    ("ber", "es"),
    ("no", "sv"),
    ("ca", "fr"),
    ("fr", "tiv"),
    ("sv", "tvl"),
    ("mt", "sv"),
    ("lue", "sv"),
    ("es", "iso"),
]
GROUP_MEMBERS = {
    "ZH": [
        "cmn",
        "cn",
        "yue",
        "ze_zh",
        "zh_cn",
        "zh_CN",
        "zh_HK",
        "zh_tw",
        "zh_TW",
        "zh_yue",
        "zhs",
        "zht",
        "zh",
    ],
    "ROMANCE": [
        "fr",
        "fr_BE",
        "fr_CA",
        "fr_FR",
        "wa",
        "frp",
        "oc",
        "ca",
        "rm",
        "lld",
        "fur",
        "lij",
        "lmo",
        "es",
        "es_AR",
        "es_CL",
        "es_CO",
        "es_CR",
        "es_DO",
        "es_EC",
        "es_ES",
        "es_GT",
        "es_HN",
        "es_MX",
        "es_NI",
        "es_PA",
        "es_PE",
        "es_PR",
        "es_SV",
        "es_UY",
        "es_VE",
        "pt",
        "pt_br",
        "pt_BR",
        "pt_PT",
        "gl",
        "lad",
        "an",
        "mwl",
        "it",
        "it_IT",
        "co",
        "nap",
        "scn",
        "vec",
        "sc",
        "ro",
        "la",
    ],
    "NORTH_EU": [
        "de",
        "nl",
        "fy",
        "af",
        "da",
        "fo",
        "is",
        "no",
        "nb",
        "nn",
        "sv",
    ],
    "SCANDINAVIA": ["da", "fo", "is", "no", "nb", "nn", "sv"],
}


SUPPORTED_LANGUAGES = [
    "es_MX",
    "efi",
    "cel",
    "cy",
    "bzs",
    "es_AR",
    "euq",
    "az",
    "id",
    "fse",
    "aed",
    "mul",
    "sc",
    "zh",
    "oc",
    "lua",
    "et",
    "lus",
    "iir",
    "bem",
    "sn",
    "yap",
    "sv",
    "niu",
    "ceb",
    "loz",
    "crs",
    "nb",
    "fr",
    "es_HN",
    "nap",
    "pis",
    "st",
    "zle",
    "zh_tw",
    "sem",
    "lun",
    "sal",
    "umb",
    "ln",
    "to",
    "frp",
    "hil",
    "ht",
    "ee",
    "tiv",
    "ur",
    "sm",
    "grk",
    "es_CO",
    "es",
    "de",
    "lt",
    "nso",
    "jap",
    "yo",
    "sg",
    "lij",
    "tn",
    "wa",
    "mkh",
    "bi",
    "cmn",
    "fr_CA",
    "fur",
    "ro",
    "lv",
    "zhs",
    "phi",
    "lad",
    "ar",
    "tw",
    "la",
    "swc",
    "pon",
    "ber",
    "gmq",
    "tr",
    "war",
    "kg",
    "afa",
    "cpp",
    "tvl",
    "vi",
    "es_DO",
    "dra",
    "pt",
    "cus",
    "csg",
    "bcl",
    "sq",
    "rm",
    "es_VE",
    "es_NI",
    "an",
    "kqn",
    "ca",
    "es_CR",
    "gaa",
    "vec",
    "zls",
    "zh_TW",
    "tzo",
    "cs",
    "nic",
    "eo",
    "gem",
    "pqe",
    "ng",
    "bnt",
    "run",
    "gmw",
    "inc",
    "ny",
    "ts",
    "pt_br",
    "sk",
    "ase",
    "sla",
    "scn",
    "zne",
    "ti",
    "sh",
    "trk",
    "lmo",
    "zai",
    "tpi",
    "es_CL",
    "rnd",
    "hi",
    "no",
    "eu",
    "fr_FR",
    "es_PE",
    "tl",
    "zh_CN",
    "zh_yue",
    "gl",
    "ru",
    "rw",
    "gil",
    "csn",
    "ty",
    "gv",
    "kj",
    "tum",
    "kwn",
    "it",
    "pt_PT",
    "tll",
    "is",
    "prl",
    "urj",
    "yue",
    "pap",
    "pt_BR",
    "sl",
    "en",
    "nyk",
    "fo",
    "xh",
    "ss",
    "es_PR",
    "chk",
    "nn",
    "mos",
    "zh_cn",
    "lu",
    "ga",
    "alv",
    "co",
    "mr",
    "lue",
    "mk",
    "guw",
    "ig",
    "luo",
    "ve",
    "mg",
    "it_IT",
    "cn",
    "fr_BE",
    "el",
    "toi",
    "hr",
    "aav",
    "iso",
    "ml",
    "es_GT",
    "bat",
    "srn",
    "af",
    "lld",
    "ms",
    "zlw",
    "da",
    "he",
    "pag",
    "ho",
    "itc",
    "uk",
    "nl",
    "zh_HK",
    "hy",
    "es_ES",
    "kwy",
    "es_EC",
    "es_SV",
    "ze_zh",
    "ha",
    "bg",
    "mfs",
    "mfe",
    "om",
    "fiu",
    "fj",
    "lg",
    "es_UY",
    "wls",
    "mwl",
    "rn",
    "pl",
    "ilo",
    "es_PA",
    "fi",
    "fy",
    "mt",
    "mh",
    "hu",
    "ine",
    "cpf",
    "zht",
]
